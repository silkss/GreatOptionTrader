<Window x:Class="GreatOptionTrader.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GreatOptionTrader"
        
        mc:Ignorable="d"
        Title="Greate Option Trader"
        Height="450" Width="900"
        MinHeight="450" MinWidth="900">
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="Connector">
                <MenuItem Header="Connect" Command="{Binding Connect}"/>
            </MenuItem>
            <MenuItem Header="Группы">
                <MenuItem Header="создать" Command="{Binding CreateGroup}"/>
            </MenuItem>
        </Menu>

        <Grid DockPanel.Dock="Bottom">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="42" />
            </Grid.ColumnDefinitions>

            <ListView Grid.Column="0" x:Name="dgInstrumentGroups" ItemsSource="{Binding Containers}"/>

            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <StackPanel Grid.Row="0" Orientation="Vertical">
                    <Button Width="32" Height="32"
                        Style="{StaticResource BaseButtonStyle}"
                        Command="{Binding StartAllContainers}"
                        ToolTip="Запустить все контейнеры">
                        <Button.Content>
                            <Path Data="M 1,1 L 10,8 L 1,16 Z M 10,1 L 20, 8 L 10,16 Z"
                              Stroke="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}" 
                              StrokeThickness="2"
                              StrokeLineJoin="Round" />
                        </Button.Content>
                    </Button>

                    <Button Width="32" Height="32"
                        Style="{StaticResource BaseButtonStyle}"
                        Command="{Binding StartContainerCommand}"
                        ToolTip="Запустить выбранный контейнер"
                        CommandParameter="{Binding ElementName=dgInstrumentGroups, Path=SelectedItem}">
                        <Button.Content>
                            <Path Data="M 1, 1 L 15, 10 L 1,20 Z"
                              Stroke="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}" 
                              Fill="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}" 
                              StrokeThickness="2"
                              StrokeLineJoin="Round" />
                        </Button.Content>
                    </Button>

                    <Button Width="32" Height="32"
                        Style="{StaticResource BaseButtonStyle}"
                        Command="{Binding AddOptionStrategyCommand}"
                        CommandParameter="{Binding ElementName=dgInstrumentGroups, Path=SelectedItem}">
                        <Button.Content>
                            <Path Stroke="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}"
                              StrokeThickness="4">
                                <Path.Data>
                                    <GeometryGroup>
                                        <LineGeometry StartPoint="10, 1" EndPoint="10,20"/>
                                        <LineGeometry StartPoint="1, 10" EndPoint="20, 10"/>
                                    </GeometryGroup>
                                </Path.Data>
                            </Path>
                        </Button.Content>
                    </Button>

                    <Button Width="32" Height="32" Content="M" Style="{StaticResource BaseButtonStyle}"
                        FontWeight="UltraBlack"
                        Command="{Binding OpenMasterPositionCommand}"
                        CommandParameter="{Binding ElementName=dgInstrumentGroups, Path=SelectedItem}"/>

                    <Button Width="32" Height="32" Content="H" Style="{StaticResource BaseButtonStyle}"
                        Command="{Binding EditHedgeCommand}"
                        CommandParameter="{Binding ElementName=dgInstrumentGroups, Path=SelectedItem}"
                        FontWeight="UltraBlack"/>
                </StackPanel>
                <StackPanel Grid.Row="1" Orientation="Vertical" VerticalAlignment="Bottom">
                    <Button Width="32" Height="32" Content="C" Style="{StaticResource BaseButtonStyle}"
                        Command="{Binding CloseContainerCommand}"
                        CommandParameter="{Binding ElementName=dgInstrumentGroups, Path=SelectedItem}"
                        FontWeight="UltraBlack"/>
                </StackPanel>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
